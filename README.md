## Software SPI Receiver on MSP430

### Overview

This project demonstrates a software implementation of the Serial Peripheral Interface (SPI) receiver protocol using the MSP430 microcontroller. SPI is a widely used protocol for high-speed data exchange between microcontrollers and peripheral devices, like sensors, displays, and memory modules. In this project, a software SPI receiver is developed through bit-banging techniques, using assembly language to control GPIO pins for data transmission and reception.

### Table of Contents
- [Introduction to SPI](#introduction-to-spi)
- [Applications of SPI](#applications-of-spi)
- [Project Description](#project-description)
  - [Objective](#objective)
  - [Implementation Details](#implementation-details)
  - [Registers and Constants](#registers-and-constants)
- [Setup and Usage](#setup-and-usage)
- [Future Improvements](#future-improvements)
- [Author](#author)

### Introduction to SPI

Serial Peripheral Interface (SPI) is a synchronous, full-duplex communication protocol that allows data exchange between a master device and one or more peripheral (slave) devices. SPI transmits data in a serial format, making it efficient for high-speed applications. It typically consists of four lines:
- **MOSI** (Master Out Slave In): Transfers data from the master to the slave.
- **MISO** (Master In Slave Out): Transfers data from the slave to the master.
- **SCK** (Serial Clock): Synchronizes the data transmission, generated by the master.
- **SS/CS** (Slave Select/Chip Select): Selects the specific slave device for communication.

#### SPI Modes
SPI has multiple modes determined by the polarity and phase of the clock signal, allowing flexibility in data sampling and edge-triggering.

### Applications of SPI

SPI is commonly used in embedded systems and electronics projects where high-speed communication is required. Some applications include:
- **Display modules**: OLED, LCD, and other graphical displays.
- **Memory cards**: SD cards and flash storage.
- **Sensor modules**: Accelerometers, gyroscopes, and other sensors.
- **Networking modules**: Ethernet or WiFi adapters.
- **Microcontroller communication**: SPI enables quick communication between microcontrollers or microcontrollers and FPGAs.

### Project Description

#### Objective
The goal of this project is to create a software SPI receiver on the MSP430 microcontroller. Unlike hardware SPI, which uses built-in modules, this software SPI is implemented manually using assembly code. This allows greater flexibility and provides a learning experience for bitwise manipulation and low-level control of the MSP430's GPIO pins.

#### Implementation Details
The software SPI receiver is implemented by monitoring the clock and data lines and synchronously reading each bit. Key steps in the code include:
1. **Initialization**: Configure the GPIO pins for SPI operation, setting the data (SIN) and clock (SCLK) pins as inputs.
2. **Bitwise Reading**: Wait for the rising edge of the clock to sample each data bit. For each bit received, the program rotates it into a register to form an 8-bit byte.
3. **Data Storage**: After receiving a full byte, the program stores it in a memory location, then resets to receive the next byte.
4. **Looping**: The receiver repeats this process indefinitely, storing bytes until a preset memory size is reached.

#### Registers and Constants
The program uses specific registers and constants to handle data and manage memory:
- **SIN (P3.0)**: Data input pin for serial data from the transmitter.
- **SCLK (P3.1)**: Clock input pin to synchronize data sampling.
- **BASE**: Base memory address for storing received data.
- **NUM**: Number of bytes to receive and store.

The program uses loops and delays to implement the bit-banging process, waiting for specific clock signals to synchronize with the transmitter.

### Setup and Usage

To set up this project:
1. **Hardware**: Connect the MSP430 microcontrollerâ€™s SIN (P3.0) and SCLK (P3.1) pins to the corresponding pins on the SPI transmitter.
2. **Assembly Code**: Compile and upload the provided assembly code to the MSP430 using Code Composer Studio or another compatible assembler.
3. **Execution**: Run the program on the MSP430. The receiver will begin capturing serial data from the transmitter and storing it in memory at the specified address.

#### Code Structure
The main assembly file (`receiver.asm`) contains:
- **Initialization**: Configures the necessary ports for input and output.
- **Main Loop**: Continuously waits for incoming data, reads it bit by bit, and stores it as bytes in memory.

### Future Improvements

Some potential improvements to this software SPI receiver include:
- **Error Detection**: Implement CRC or parity checks to verify data integrity.
- **SPI Modes**: Extend the implementation to support different SPI modes by adjusting clock polarity and phase.
- **Buffer Overflow Handling**: Add checks to prevent data overwrite when memory is full.

### Author

Written by Kai Nguyen
